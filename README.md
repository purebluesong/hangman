# hangman

算是strikingly后端开发岗的笔试题？


具体的实现思路和[这里](https://ruby-china.org/topics/16256)的类似，也是动态词频统计，选择最有可能的字母去猜

第一个字母根据单词长度推断，这里我用sortWords.py处理字典文件之后用mytools.rb直接打出了同长度下应决策的10个字母，然后硬编码在代码里了，发现除了5个字母的单词最长情况下第一次猜测的字母是10次以外，其他长度单词一般猜两道三次就能猜出第一字母，甚至有几个可以免猜测，所有单词都含有某个字母的……

因为已经有已知的字母位置了，所以可以不断的用用正则去压缩备选单词列表，然后统计备选单词列表中最可能出现的字母，这里可以判断单词是否在字典之中，如果运气爆表猜出来了把该单词加入字典文件

中间做了一点小小的优化，就是同一个单词内每个字母只能被统计一次，因为一个字母也只能筛选出一个单词。同时如果单词中含有猜错的字母也会被去掉，这样就减少了猜错次数……但是要是单词表没有或者单词太多依然是比较无力的。

更新:
--------------
优化了猜出单词后加入字典文件，但是每次只能猜出4-5个单词，杯水车薪，没什么卵用，何况这么慢然后发现扣分最严重的其实不是后面的难猜的单词，而是前面那些几乎等于全排列的比较短的单词，这里要是给出一个生僻词来基本猜不中啊

更新：4-28
--------------
优化了可以根据以前没猜出来的记录继续上回合猜想，加入了自动学习（其实也就是把猜出来的词加入新词词库）,但是这么做以后没有突破最好的那次79个单词的，运气问题估计占一半……，跑了几个晚上，目前平均分在1220，第二高的是一个1300的分，也偶尔跑出1100的低分，但是感觉目前的策略贪大求全，弥补的是猜不出来的词能记下来，但是觉得失分比较严重的还有另一个领域就是在小词中词太多导致不好选，或者说对面词典有些没有二我这里有可能也会导致猜错


目前最高分数是1360，最多猜出79/80个词，猜错220次。感觉这个分数算法应该是：`正确词数*20  -猜错词数*1`，也就说说理论上最高分是1600，但是感觉就算换成官方词典能拿个1400多分就是极限了

更新：5-1
-------------
加入了一些统计的小工具，优化了短词命中，其实就是和dancelinks一个思路，更像是优化了决策树：如果这个单词里面有missingword 中的东西就不猜了，这样做能减少猜词失误，增加诸如cats kats mats fats之类只有一个字母不一样的概率性命中 ps：这里用了个shuffle打乱了同频度间字母顺序使得尽可能概率性猜测，不然每次固定猜词顺序的话学不会多少新词

做了一些小工具，顺便发现strikingly的服务器虽然限制了访问频率，但是支持多线程游戏，于是手动开了四个进程在玩，速度明显上去了……

统计了一晚上的猜词成果，最高猜词分数是1351，最少是960，平均分是1208，一共180个游戏记录。猜出108个新单词

那天晚上真的是撞了大运才搞出1360的分，但是已经没什么可优化的了，或者说在优化就是给每个单词加上一个频率统计压下去不怎么在对面词典中出现的词，这么做工程量很大，感觉收效也不会太好

更新：5-2
------------
卧槽，最高分突破1360了，简直感动，目前最高分1364，79/80,猜错216次，又一次撞大运。

-----------------
下面是一些坑：

感觉strinkly限制了访问频率，跑一次算上自己的时间稳稳的要10+分钟
一开始找了个100k的单词表，我勒个擦简直坑爹啊，各种单词找不到，不过就是后来换成170k单词的单词表以后还是有些词这个单词表里面没有，全靠蒙……

还好我的程序按照统一单词频率来蒙，还真蒙对几个，不过如果strinkly把字典文件开放出来我觉得效果会更好一些，或者按照上面的思路跑个十天八天的分数也能搞起去
